@{
    ViewBag.Title = "Pay";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>VNPAY DEMO</h2>

<div class="container">
    <div class="row">
        <div class="col-md-4">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
                <span class="text-muted">Đơn hàng</span>
                <span class="badge badge-secondary badge-pill">1</span>
            </h4>
            <ul class="list-group mb-3">
                <li class="list-group-item d-flex justify-content-between lh-condensed">
                    <div>
                        <h6 class="my-0">Tên sản phẩm</h6>
                        <small class="text-muted">Thanh toán hóa đơn</small>
                    </div>
                    <span class="text-muted">100.000₫</span>
                </li>
                <li class="list-group-item d-flex justify-content-between">
                    <span>Tổng tiền thanh toán</span>
                    <strong>100.000₫</strong>
                </li>
            </ul>
        </div>

        <div class="col-md-8">
            <h4>Chọn phương thức thanh toán:</h4>
            <form action="@Url.Action("Pay_xl", "Payment")" method="post">
                <!-- Điều chỉnh các input và nút thanh toán tùy thuộc vào nhu cầu của bạn -->
                <div class="custom-control custom-radio">
                    <input type="radio" id="bankcode_Vnpayqr" name="bankcode" value="VNPAYQR" checked>
                    <label for="bankcode_Vnpayqr">Cổng thanh toán VNPAYQR</label>
                </div>
                <div class="custom-control custom-radio">
                    <input type="radio" id="bankcode_Vnbank" name="bankcode" value="VNBANK">
                    <label for="bankcode_Vnbank">ATM-Tài khoản ngân hàng nội địa</label>
                </div>
                <div class="custom-control custom-radio">
                    <input type="radio" id="bankcode_Intcard" name="bankcode" value="INTCARD">
                    <label for="bankcode_Intcard">Thanh toán qua thẻ quốc tế</label>
                </div>

                <h4>Chọn ngôn ngữ thanh toán:</h4>
                <div class="custom-control custom-radio">
                    <input type="radio" id="locale_Vn" name="locale" value="vn" checked>
                    <label for="locale_Vn">Tiếng việt</label>
                </div>
                <div class="custom-control custom-radio">
                    <input type="radio" id="locale_En" name="locale" value="en">
                    <label for="locale_En">Tiếng anh</label>
                </div>

                <button type="submit" class="btn btn-primary">Thanh Toán</button>
            </form>
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy; VNPAY 2020</p>
</footer>
<script>
    $(document).ready(function() {
    $("#btnSubmit").click(function() {
        var bankCodeValue = $("#bankCode").is(":checked") ? "VNPAYQR" : ($("#bankcode_Vnbank").is(":checked") ? "VNBANK" : ($("#bankcode_Intcard").is(":checked") ? "INTCARD" : ""));
        var localeValue = $("#locale_Vn").is(":checked") ? "vn" : ($("#locale_En").is(":checked") ? "en" : "");

        $.ajax({
            url: '@Url.Action("Pay", "Payment")',
            type: 'POST',
            data: {
                bankCode: bankCodeValue,
                locale: localeValue
                // Thêm các trường dữ liệu khác nếu cần
            },
            success: function(response) {
                // Xử lý kết quả trả về nếu cần
            },
            error: function(xhr, status, error) {
                // Xử lý lỗi nếu có
            }
        });
    });
});

</script>