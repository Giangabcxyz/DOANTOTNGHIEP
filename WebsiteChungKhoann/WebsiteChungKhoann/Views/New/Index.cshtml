
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time News</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Add your custom CSS styles here */
        .rounded-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
        }
        /* Style the comment box and send button */
        .comment-box-wrapper {
            position: relative;
        }

            .comment-box-wrapper textarea {
                border-radius: 20px;
            }

            .comment-box-wrapper .btn-primary {
                position: absolute;
                bottom: 5px;
                right: 10px;
                border-radius: 20px;
            }
        /* Set the width and height for the post image */
        .post-image {
            max-width: 100%;
            height: auto;
        }
        /* Override Bootstrap card header padding */
        .card-text {
            padding: 15px;
        }
        /* Override Bootstrap card body padding */
        .card-body {
            padding: 0;
        }

        .comment {
            display: flex;
        }

        .full-width {
            width: 100%;
        }

        .card-body {
            position: relative;
        }


        .full-width {
            width: 100%;
        }

        .card-body {
            position: relative;
        }

            .card-body .form-control.full-width {
                width: calc(100% - 20px); /* Trừ điều chỉnh margin của textarea */
                margin: 0; /* Không có margin */
            }
    </style>
    <style>
            /* Custom CSS */
            .video-list {
                height: 100vh;
                overflow-y: auto;
            }

            .video-list-item {
                cursor: pointer;
                padding: 5px;
                border-bottom: 1px solid #ddd;
                display: flex;
                flex-direction: column;
            }

                .video-list-item.selected {
                    border: 2px solid red; /* Đổi màu và độ rộng viền tùy ý */
                }

                .video-list-item:hover {
                    background-color: #f0f0f0;
                }

            .video-player {
                height: 60vh; /* Giảm kích thước video */
                padding: 0 20px; /* Khoảng cách giữa video và danh sách */
            }

                .video-player iframe {
                    width: 100%;
                    height: 100%;
                    border: none;
                }

            .video-thumbnail {
                max-width: 300px; /* Độ rộng của hình ảnh */
                max-height: 200px; /* Chiều cao tự động */
                margin-right: 10px; /* Khoảng cách giữa hình ảnh và tiêu đề */
                position: absolute;
                width: 100%;
                height: 100%;
                padding: 0;
                margin: 0;
                border-radius: 20px;
                transition: transform 0.8s ease-out;
            }

                .video-thumbnail:hover {
                    transform: scale(1.1);
                }

            .comment-section {
                position: relative;
                margin-top: 20px;
            }

            /*.comment {
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ddd;
        }*/
            .video-list {
                display: flex;
                width: 100%;
                padding: 0 5px;
            }

            .item {
                position: relative;
                display: flex;
                padding: 0;
                border-radius: 20px;
                justify-content: space-between;
                /* Màu xám có độ mờ là 0.5 */
            }

            .video-list-item {
                position: absolute;
                width: 95%;
                height: 200px;
                padding: 0;
            }

            .nname, .descriptionn {
                color: black;
                position: absolute;
                top: 105%;
            }

            .descriptionn {
                top: 115%;
            }

                .descriptionn:hover {
                    color: red;
                    transition: ease-in-out 0.5s;
                    transform: 0.5s;
                }

            .nname:hover {
                transition: ease-in-out 0.5s;
                color: red;
                font-size: 18px;
            }
    </style>

</head>
<body>

    <div class="container-xl">
        <h1 class="mt-2">Tin Tức</h1>
        <div id="news-container" class="row mt-2"></div>
        <div id="newsout-container" class="row mt-5"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function () {
            // Function to fetch and display news
            function fetchNews() {
                $.ajax({
                    url: 'https://newsdata.io/api/1/news?country=vi&category=top&apikey=pub_41430d56e87e828d941a683129d32f90c058a',
                    method: 'GET',
                    dataType: 'json',
                    success: function (response) {
                        var articles = response.results;
                        var newsContainer = $('#news-container');
                        newsContainer.empty(); // Clear existing news items

                        // Loop through each article and append it to the news container
                        articles.forEach(function (article) {
                            if (article.image_url) {
                                var articleHtml = `
                                    <div class="col-md-4 mb-4">
                                        <div class="card">
                                            <img src="${article.image_url}" class="card-img-top" alt="Article Image">
                                            <div class="card-body">
                                                <h5 class="card-title">${article.title}</h5>
                                                <p class="card-text">${article.description}</p>
                                                <a href="${article.link}" class="btn btn-primary">Read more</a>
                                            </div>

                                        </div>
                                    </div>
                                    `;
                                newsContainer.append(articleHtml);
                            }
                        });
                    },
                    error: function (xhr, status, error) {
                        console.error('Error fetching news:', error);
                    }
                });
            }

            // Fetch news initially
            fetchNews();

            // Set interval to fetch news every 5 minutes (adjust as needed)
            setInterval(fetchNews, 300000); // 5 minutes in milliseconds

            // Function to update like, comment, and share counts
            function updateCounts() {
                // Placeholder function, you need to implement your logic here to update counts
                // For example, you can make another API call to fetch the counts for each article
                // and then update the HTML accordingly
            }

            // Set interval to update counts every 1 minute (adjust as needed)
            setInterval(updateCounts, 60000); // 1 minute in milliseconds
        });
    </script>
    <script>
        $(document).ready(function () {
            var apiUrl = "https://newsapi.org/v2/everything?q=tesla&from=2024-03-09&sortBy=publishedAt&apiKey=433b78deef9344e4a5e0e7ca07b985aa";
            var newsoutContainer = $("#newsout-container");

            // Function to fetch and display news
            function fetchNews1() {
                $.ajax({
                    url: apiUrl,
                    method: "GET",
                    dataType: "json",
                    success: function (response) {
                        var articles = response.articles;

                        articles.forEach(function (article) {
                            var articleHtml = `
                            <div class="col-md-4 mb-4">
                                <div class="card">
                                    <img src="${article.urlToImage}" class="card-img-top" alt="Article Image">
                                    <div class="card-body">
                                        <h5 class="card-title">${article.title}</h5>
                                        <p class="card-text">${article.description}</p>
                                        <a href="${article.url}" class="btn btn-primary">Read more</a>
                                    </div>
                                </div>
                            </div>
                        `;
                            newsoutContainer.append(articleHtml);
                        });
                    },
                    error: function (xhr, status, error) {
                        console.error("Error fetching news:", error);
                    }
                });
            }

            // Fetch news initially
            fetchNews1();

            // Set interval to fetch news every 30 seconds (30000 milliseconds)
            setInterval(fetchNews1, 300000);
        });

    </script>

</body>
</html>


